import{j as e}from"./ui.DDQN6UUz.js";import{r as s}from"./vendor.CJDJhWJD.js";import{B as t}from"./button.54vjbZ_J.js";import{C as r,e as a,f as i,d}from"./Header.Cn114CBi.js";import{T as n,a as l,b as o,c,d as m,e as x}from"./table.DlcAAGzC.js";import{u as j,d as p,e as h,f as u}from"./index.CXU36yQh.js";import{P as b}from"./PageLayout.DiRCJOpZ.js";import"./utils.CIxrdROE.js";const g=()=>{const{dailyWords:b,loadHistoricalGame:g}=j(),{toast:f}=p(),y=h(),[N,k]=s.useState(!1),w=[...b].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime());return e.jsxs(r,{className:"bg-background dark:bg-slate-800 border-primary-200 dark:border-slate-700",children:[e.jsx(a,{children:e.jsx(i,{className:"text-xl font-heebo",children:"היסטורית משחקים"})}),e.jsx(d,{children:0===w.length?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"אין משחקים קודמים זמינים כרגע"}):e.jsxs(n,{children:[e.jsx(l,{children:e.jsxs(o,{children:[e.jsx(c,{className:"text-right",children:"תאריך"}),e.jsx(c,{className:"text-right",children:"פעולות"})]})}),e.jsx(m,{children:w.map(s=>{const r=new Date(s.date),a=new Date;a.setHours(0,0,0,0);const i=r<a;return e.jsxs(o,{children:[e.jsx(x,{children:u(new Date(s.date))}),e.jsxs(x,{children:[i&&e.jsx(t,{variant:"outline",size:"sm",onClick:()=>(async e=>{k(!0);try{await g(e),y("/"),f({title:"משחק היסטורי נטען",description:`המשחק מתאריך ${u(new Date(e))} נטען בהצלחה`})}catch(s){f({variant:"destructive",title:"שגיאה",description:s instanceof Error?s.message:"אירעה שגיאה בטעינת המשחק"})}finally{k(!1)}})(s.date),disabled:N,children:N?"טוען...":"שחק"}),!i&&s.date===a.toISOString().split("T")[0]&&e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"משחק נוכחי"}),!i&&s.date!==a.toISOString().split("T")[0]&&e.jsx("span",{className:"text-muted-foreground",children:"טרם זמין"})]})]},s.date)})})]})})]})},f=()=>e.jsxs(b,{title:"היסטורית משחקים",children:[e.jsx("div",{className:"max-w-3xl mx-auto mb-6 p-4 bg-primary-50 dark:bg-slate-800 rounded-md border border-primary-200 dark:border-slate-700 text-center",children:e.jsxs("p",{className:"text-primary-800 dark:text-primary-300",children:["רוצים לנסות שוב? פספסתם את הסמנטעל אתמול? כאן תוכלו לשחק בגרסאות קודמות של המשחק היומי.",e.jsx("br",{}),"בכל יום קצת אחרי השעה 3:00 יעלה המשחק של אתמול ותוכלו למצוא אותו גם כאן וגם בדף הראשי."]})}),e.jsx(g,{})]});export{f as default};
