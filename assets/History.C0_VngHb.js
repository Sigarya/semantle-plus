import{j as e}from"./ui.DbnHtu_c.js";import{r as s}from"./vendor.CJDJhWJD.js";import{u as a,f as t,g as r,h as i,B as d}from"./index.D3YK1Ozu.js";import{C as n,b as l,c as o,a as c}from"./Header.J_j2C4B2.js";import{T as m,a as x,b as j,c as h,d as p,e as g}from"./table.DGkro8iT.js";import{P as u}from"./PageLayout.gVB_ityy.js";import"./utils.CIxrdROE.js";const b=()=>{const{dailyWords:u,loadHistoricalGame:b}=a(),{toast:f}=t(),y=r(),[N,k]=s.useState(!1),w=[...u].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime());return e.jsxs(n,{className:"bg-background dark:bg-slate-800 border-primary-200 dark:border-slate-700",children:[e.jsx(l,{children:e.jsx(o,{className:"text-xl font-heebo",children:"היסטורית משחקים"})}),e.jsx(c,{children:0===w.length?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"אין משחקים קודמים זמינים כרגע"}):e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(h,{className:"text-right",children:"תאריך"}),e.jsx(h,{className:"text-right",children:"פעולות"})]})}),e.jsx(p,{children:w.map(s=>{const a=new Date(s.date),t=new Date;t.setHours(0,0,0,0);const r=a<t;return e.jsxs(j,{children:[e.jsx(g,{children:i(new Date(s.date))}),e.jsxs(g,{children:[r&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>(async e=>{k(!0);try{await b(e),y("/"),f({title:"משחק היסטורי נטען",description:`המשחק מתאריך ${i(new Date(e))} נטען בהצלחה`})}catch(s){f({variant:"destructive",title:"שגיאה",description:s instanceof Error?s.message:"אירעה שגיאה בטעינת המשחק"})}finally{k(!1)}})(s.date),disabled:N,children:N?"טוען...":"שחק"}),!r&&s.date===t.toISOString().split("T")[0]&&e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"משחק נוכחי"}),!r&&s.date!==t.toISOString().split("T")[0]&&e.jsx("span",{className:"text-muted-foreground",children:"טרם זמין"})]})]},s.date)})})]})})]})},f=()=>e.jsxs(u,{title:"היסטורית משחקים",children:[e.jsx("div",{className:"max-w-3xl mx-auto mb-6 p-4 bg-primary-50 dark:bg-slate-800 rounded-md border border-primary-200 dark:border-slate-700 text-center",children:e.jsxs("p",{className:"text-primary-800 dark:text-primary-300",children:["רוצים לנסות שוב? פספסתם את הסמנטעל אתמול? כאן תוכלו לשחק בגרסאות קודמות של המשחק היומי.",e.jsx("br",{}),"בכל יום קצת אחרי השעה 3:00 יעלה המשחק של אתמול ותוכלו למצוא אותו גם כאן וגם בדף הראשי."]})}),e.jsx(b,{})]});export{f as default};
